# 游戏交互方式

!!! 注意
    本分类下的内容是 Botzone Wiki 相关页面的镜像，请参考原始站点以获得最新信息。
    原始站点：[FightTheLandlord#游戏交互方式](https://wiki.botzone.org.cn/index.php?title=FightTheLandlord#.E6.B8.B8.E6.88.8F.E4.BA.A4.E4.BA.92.E6.96.B9.E5.BC.8F)

## 提示

**如果你不能理解以下交互方式,可以直接看游戏样例程序，修改其中**

```cpp
// 做出决策（你只需修改以下部分）
```

**到**

```cpp
// 决策结束，输出结果（你只需修改以上部分）
```

**之间的部分即可！**

本游戏与Botzone上其他游戏一样，使用相同的交互方式：[Bot#交互](https://wiki.botzone.org.cn/index.php?title=Bot#.E4.BA.A4.E4.BA.92)

请注意程序是有计算时间的限制的，每步要在1秒内完成！

## 具体交互内容

在交互中，游戏中的所有牌使用0-53共54个正整数进行编号。对应关系如下：

| 牌号 | 牌面 | 牌号 | 牌面 | 牌号 | 牌面 | 牌号 | 牌面 | 牌号 | 牌面 | 牌号 | 牌面 |
| :-: | :--: | :--: | :--: | :--: | :-: | :--: | :-: | :--: | :-: | :--: | :--: |
| 0 | 红桃3 | 1 | 方块3 | 2 | 黑桃3 | 3 | 草花3 | 4 | 红桃4 | 5 | 方块4 |
| 6 | 黑桃4 | 7 | 草花4 | 8 | 红桃5 | 9 | 方块5 | 10 | 黑桃5 | 11 | 草花5 |
| 12 | 红桃6 | 13 | 方块6 | 14 | 黑桃6 | 15 | 草花6 | 16 | 红桃7 | 17 | 方块7 |
| 18 | 黑桃7 | 19 | 草花7 | 20 | 红桃8 | 21 | 方块8 | 22 | 黑桃8 | 23 | 草花8 |
| 24 | 红桃9 | 25 | 方块9 | 26 | 黑桃9 | 27 | 草花9 | 28 | 红桃10 | 29 | 方块10 |
| 30 | 黑桃10 | 31 | 草花10 | 32 | 红桃J | 33 | 方块J | 34 | 黑桃J | 35 | 草花J |
| 36 | 红桃Q | 37 | 方块Q | 38 | 黑桃Q | 39 | 草花Q | 40 | 红桃K | 41 | 方块K |
| 42 | 黑桃K | 43 | 草花K | 44 | 红桃A | 45 | 方块A | 46 | 黑桃A | 47 | 草花A |
| 48 | 红桃2 | 49 | 方块2 | 50 | 黑桃2 | 51 | 草花2 | 52 | 小王 | 53 | 大王 |

每回合只有一个Bot会收到request。Bot收到的request是一个[JSON](https://wiki.botzone.org.cn/index.php?title=JSON)对象，表示之前的出牌情况。格式如下：

**第一个request**

```json
{
    "history": [[0, 1, 2]/* 上上家 */, []/* 上家 */], // 总是两项，每一项都是数组，分别表示上上家和上家出的牌，空数组表示跳过回合或者还没轮到他。
    "publiccard": [29, 8, 14], // 地主被公开的三张牌
    "own": [0, 1, 2, 3, 4] // 自己最初拥有哪些牌
}
```

对于history，扮演不同角色的Bot首次运行时收到的分别是：

- 地主收到`[[], []]`
- 农民甲收到`[[], 非空数组]`
- 农民乙收到`[非空数组, [...]]`

**此后的request**

```json
{
    "history": [[0, 1, 2]/* 上上家 */, []/* 上家 */], // 总是两项，每一项都是数组，分别表示上上家和上家出的牌，空数组表示跳过回合。
}
```

Bot所需要输出的response是一个[JSON](https://wiki.botzone.org.cn/index.php?title=JSON)数组，表示自己要出的牌。空数组表示跳过回合。
